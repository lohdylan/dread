---
phase: 14-animated-entity-textures
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/client/java/com/dread/client/DeathCinematicClientHandler.java
  - src/main/resources/assets/dread/textures/entity/dread_base_pulse_0.png
  - src/main/resources/assets/dread/textures/entity/dread_base_pulse_0_glowmask.png
  - src/main/resources/assets/dread/textures/entity/dread_base_pulse_1.png
  - src/main/resources/assets/dread/textures/entity/dread_base_pulse_1_glowmask.png
  - src/main/resources/assets/dread/textures/entity/dread_base_pulse_2.png
  - src/main/resources/assets/dread/textures/entity/dread_base_pulse_2_glowmask.png
  - src/main/resources/assets/dread/textures/entity/dread_base_eyes_open.png
  - src/main/resources/assets/dread/textures/entity/dread_base_eyes_open_glowmask.png
autonomous: true

must_haves:
  truths:
    - "Cinematic timer is accessible from texture logic"
    - "Cinematic phase is queryable from client handler"
    - "Placeholder textures exist for all animation states"
  artifacts:
    - path: "src/client/java/com/dread/client/DeathCinematicClientHandler.java"
      provides: "getCinematicTimer() and getCurrentPhase() public methods"
      exports: ["getCinematicTimer", "getCurrentPhase"]
    - path: "src/main/resources/assets/dread/textures/entity/dread_base_pulse_0.png"
      provides: "Rune pulse dim texture (copy of base)"
    - path: "src/main/resources/assets/dread/textures/entity/dread_base_eyes_open.png"
      provides: "Eyes open texture (copy of base for placeholder)"
  key_links:
    - from: "DreadEntityModel (future)"
      to: "DeathCinematicClientHandler.getCinematicTimer()"
      via: "static method call"
      pattern: "getCinematicTimer\\(\\)"
---

<objective>
Extend cinematic client handler API and create placeholder texture files for animation states.

Purpose: Provide foundation for texture animation by exposing cinematic timer to render logic and creating texture file structure that AutoGlowingGeoLayer expects.

Output: Extended DeathCinematicClientHandler with timer API + 9 placeholder texture files (3 pulse levels + eyes open, with glowmasks).
</objective>

<execution_context>
@C:\Users\dylan\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\dylan\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-animated-entity-textures/14-RESEARCH.md
@src/client/java/com/dread/client/DeathCinematicClientHandler.java
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add cinematic timer API to DeathCinematicClientHandler</name>
  <files>src/client/java/com/dread/client/DeathCinematicClientHandler.java</files>
  <action>
Add two new public static methods to DeathCinematicClientHandler for texture synchronization:

1. `getCinematicTimer()` - Returns current cinematic tick (0-90) or -1 if inactive:
```java
/**
 * Get current cinematic timer tick for texture animation synchronization.
 * Returns -1 if cinematic not active.
 *
 * @return Timer tick (0-90) or -1 if cinematic inactive
 */
public static int getCinematicTimer() {
    return cinematicActive ? cinematicTimer : -1;
}
```

2. `isInFaceCloseup()` - Returns true if in face close-up phase (eyes should be open):
```java
/**
 * Check if cinematic is in face close-up phase.
 * Used by texture animation to trigger eye reveal.
 *
 * @return true if in FACE_CLOSEUP phase, false otherwise
 */
public static boolean isInFaceCloseup() {
    return cinematicActive && currentPhase == CinematicPhase.FACE_CLOSEUP;
}
```

Place these methods after the existing `isCinematicActive()` method for logical grouping.
  </action>
  <verify>Build compiles: `export JAVA_HOME="X:/Vibe Coding/jdk-21.0.6+7" && cd "X:/Vibe Coding" && ./gradlew build --quiet`</verify>
  <done>DeathCinematicClientHandler has getCinematicTimer() returning tick 0-90 or -1, and isInFaceCloseup() returning phase state</done>
</task>

<task type="auto">
  <name>Task 2: Create placeholder texture files for animation states</name>
  <files>
    src/main/resources/assets/dread/textures/entity/dread_base_pulse_0.png
    src/main/resources/assets/dread/textures/entity/dread_base_pulse_0_glowmask.png
    src/main/resources/assets/dread/textures/entity/dread_base_pulse_1.png
    src/main/resources/assets/dread/textures/entity/dread_base_pulse_1_glowmask.png
    src/main/resources/assets/dread/textures/entity/dread_base_pulse_2.png
    src/main/resources/assets/dread/textures/entity/dread_base_pulse_2_glowmask.png
    src/main/resources/assets/dread/textures/entity/dread_base_eyes_open.png
    src/main/resources/assets/dread/textures/entity/dread_base_eyes_open_glowmask.png
  </files>
  <action>
Copy existing base textures to create placeholder files for all animation states. These are placeholders that will render correctly but will look identical to base until proper textures are created.

For each variant, create pulse states (0=dim, 1=medium, 2=bright) and eyes_open state:

```bash
cd "X:/Vibe Coding/src/main/resources/assets/dread/textures/entity"

# Pulse textures (3 intensity levels) - copy base as placeholder
cp dread_base.png dread_base_pulse_0.png
cp dread_base_glowmask.png dread_base_pulse_0_glowmask.png
cp dread_base.png dread_base_pulse_1.png
cp dread_base_glowmask.png dread_base_pulse_1_glowmask.png
cp dread_base.png dread_base_pulse_2.png
cp dread_base_glowmask.png dread_base_pulse_2_glowmask.png

# Eyes open texture - copy base as placeholder
cp dread_base.png dread_base_eyes_open.png
cp dread_base_glowmask.png dread_base_eyes_open_glowmask.png
```

Note: Only creating for base variant initially. Variant2 and Variant3 textures will be added when proper textures are created (out of scope for code plans - texture art is user responsibility).
  </action>
  <verify>Files exist: `ls "X:/Vibe Coding/src/main/resources/assets/dread/textures/entity/" | grep -E "(pulse|eyes_open)"`</verify>
  <done>8 placeholder texture files exist (4 pulse + glowmasks, 1 eyes_open + glowmask pair)</done>
</task>

</tasks>

<verification>
1. Build succeeds with no errors
2. `getCinematicTimer()` and `isInFaceCloseup()` methods exist and are public static
3. 8 new texture files present in textures/entity/ directory
4. All texture files have matching _glowmask pairs
</verification>

<success_criteria>
- DeathCinematicClientHandler exposes timer and phase state via public API
- Placeholder textures exist for all animation states (pulse 0/1/2, eyes_open)
- AutoGlowingGeoLayer will find _glowmask files for each texture
- Build compiles successfully
</success_criteria>

<output>
After completion, create `.planning/phases/14-animated-entity-textures/14-01-SUMMARY.md`
</output>
