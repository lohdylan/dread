---
phase: 03-death-revival-system
plan: 06
type: execute
wave: 4
depends_on: ["03-05"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Death cinematic locks camera and shows Dread kill sequence"
    - "Downed state has blur/vignette effects and countdown timer"
    - "Revival mechanic works in multiplayer"
    - "Timer expiration transitions to spectator mode"
    - "Solo players face permanent death stakes"
  artifacts: []
  key_links: []
---

<objective>
Human verification checkpoint for Phase 3: Death & Revival System.

Purpose: Validate the complete death/revival experience meets horror standards and functions correctly in both single-player and multiplayer scenarios.

Output:
- Verified death cinematic experience
- Verified downed state visuals and countdown
- Verified revival mechanic
- Verified spectator transition
- Phase 3 approved or issues documented
</objective>

<execution_context>
@C:\Users\dylan\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\dylan\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-death-revival-system/03-CONTEXT.md

# Dependencies
@.planning/phases/03-death-revival-system/03-05-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify death cinematic experience</name>
  <what-built>
    Death cinematic system where Dread kills trigger:
    - Instant teleport of Dread face-to-face with player
    - 4.5 second camera lock onto Dread entity
    - Death audio plays during sequence
    - Camera restores to player after cinematic
  </what-built>
  <how-to-verify>
    1. Launch Minecraft with the mod: `JAVA_HOME="X:/Vibe Coding/jdk-21.0.6+7" ./gradlew runClient`
    2. Create a new creative world, then `/gamemode survival`
    3. Summon Dread entity: `/summon dread:dread_entity`
    4. Reduce your health: `/effect give @s instant_damage 1 9`
    5. Let the Dread attack you
    6. Observe:
       - Does the camera suddenly lock onto the Dread's face? (should feel like SCP-173)
       - Is the camera lock unskippable for 4-5 seconds?
       - Does death audio play?
       - After cinematic, does camera return to first-person?
       - Is the experience genuinely unsettling/scary?

    Expected: Camera forcibly shows Dread's face for 4.5 seconds, creating dread, then transitions to downed state.
  </how-to-verify>
  <resume-signal>Type "cinematic approved" if satisfactory, or describe issues</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify downed state visuals and countdown</name>
  <what-built>
    Downed state with:
    - Heavy blur + vignette post-processing shader (player can barely see)
    - Centered countdown timer showing MM:SS
    - Timer color interpolates yellow to red
    - "DOWNED" label above timer
    - Slow crawl movement (10% normal speed)
  </what-built>
  <how-to-verify>
    1. After death cinematic from previous test, observe downed state:
       - Is the screen heavily blurred with dark vignette?
       - Can you barely make out shapes? (should feel near-blind)
       - Is the countdown timer visible showing 5:00?
       - Does the timer count down in real-time?
       - Does timer color shift from yellow toward red?
       - Can you move? Is it desperately slow?
       - Can you open chat and type normally?

    2. Wait 30 seconds and observe timer reaching 4:30
       - Timer should update smoothly
       - Color should be shifting toward orange

    Expected: Claustrophobic, near-blind experience with visible timer creating urgency.
  </how-to-verify>
  <resume-signal>Type "downed state approved" if satisfactory, or describe issues</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify revival mechanic (requires LAN or second instance)</name>
  <what-built>
    Revival system where:
    - Another player crouches within 4 blocks to initiate revival
    - 3-second uninterruptible revival progress
    - Progress bar appears above downed player
    - Revival restores player to half health
    - Revival removes blur/vignette effects
  </what-built>
  <how-to-verify>
    Option A - LAN World:
    1. Open to LAN from the Minecraft pause menu
    2. Connect a second Minecraft instance (or have a friend join)
    3. Have one player get killed by Dread (downed state)
    4. Have other player crouch near downed player
    5. Observe:
       - Does revival initiate when crouching within range?
       - Is progress bar visible above downed player?
       - Does revival complete after 3 seconds?
       - Does downed player's screen clear (blur removed)?
       - Is health restored to half?

    Option B - Manual Verification:
    If multiplayer testing isn't feasible, verify:
    1. Code review confirms crouch detection logic
    2. Progress bar renderer is registered
    3. Revival completion sends RemoveDownedEffectsS2C

    Expected: Smooth revival with visible progress, creates "clutch moment" tension.
  </how-to-verify>
  <resume-signal>Type "revival approved" or "revival skipped - manual review" or describe issues</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify spectator transition on timer expiration</name>
  <what-built>
    Spectator transition when:
    - Timer reaches 0:00
    - Player instantly switches to spectator mode
    - Blur/vignette effects removed
    - Chat message: "[Player] has been claimed by the Dread"
    - Spectator can fly around freely
  </what-built>
  <how-to-verify>
    1. Get killed by Dread (enter downed state)
    2. Wait for full 5 minutes OR temporarily reduce timer:
       - Edit DownedPlayersState.java DOWNED_DURATION_TICKS to 200 (10 seconds)
       - Rebuild and test
    3. Observe when timer expires:
       - Does screen instantly clear?
       - Are you now in spectator mode? (can fly, pass through blocks)
       - Does chat show death message in dark red?
       - Can you see other players and entities?

    Expected: Instant transition to spectator with death message, player can watch friends.
  </how-to-verify>
  <resume-signal>Type "spectator transition approved" if satisfactory, or describe issues</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify solo player permanent death stakes</name>
  <what-built>
    Solo death experience where:
    - No other players = no revival possible
    - Timer expiration leads to spectator mode
    - Creates genuine stakes for solo play
  </what-built>
  <how-to-verify>
    1. In single-player world, get killed by Dread
    2. Observe:
       - Is there any way to self-revive? (should be NO)
       - Does timer count down inevitably?
       - Do you become spectator when timer expires?

    Expected: Solo players face real consequences - no way to escape permanent spectator mode except world reload.
  </how-to-verify>
  <resume-signal>Type "solo stakes approved" if satisfactory, or describe issues</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Final horror experience assessment</name>
  <what-built>
    Complete Phase 3 death/revival system integrating with Phase 1 (entity) and Phase 2 (AI/audio).
  </what-built>
  <how-to-verify>
    Play through the complete experience:
    1. Mine blocks to build spawn probability
    2. Experience turn-around spawn (from Phase 2)
    3. Fail to stare down the Dread, get attacked
    4. Experience death cinematic (camera lock)
    5. Observe downed state (blur, timer)
    6. Either revive or transition to spectator

    Assess overall horror quality:
    - Does the death sequence feel like genuine horror?
    - Is the downed state sufficiently claustrophobic?
    - Does the timer create real tension?
    - Is this scarier than typical Minecraft death?

    Expected: Phase 3 should elevate the horror beyond Phase 2 - death has real weight.
  </how-to-verify>
  <resume-signal>
    Type one of:
    - "Phase 3 approved - horror experience meets standards"
    - "Phase 3 needs work - [describe specific issues]"
  </resume-signal>
</task>

</tasks>

<verification>
All checkpoint tasks must be approved before Phase 3 is considered complete.
</verification>

<success_criteria>
- All 6 verification checkpoints pass
- Death cinematic is genuinely unsettling
- Downed state creates claustrophobic urgency
- Revival mechanic works in multiplayer
- Spectator transition functions correctly
- Solo stakes feel meaningful
</success_criteria>

<output>
After completion, create `.planning/phases/03-death-revival-system/03-06-SUMMARY.md` with verification results.
</output>
